Powereg
=======
A simple power management tool that controls the cpus power profile, EPP, as well as battery thresholds for ThinkPads.
Currently only supports AMD cpus. If you have an Intel cpu and would like to expand this project, feel free submit a pr!

** Still in development **

Todo
----
- [ ] make aur package
- [ ] tests somehow?
- [ ] auto start/stop bluetooth ('bluetoothctl power off/on')
- [ ] nicer --live/--monitor cli view/updating
- [ ] remove need for it in (only in Config now)
- [X] used debug allocator
- [X] proper naming scheme (camel case for functions, snake case for variables, pascal case for types)
- [X] split into multiple source files
- [X] read charging status from battery not acto be able to read 'not charging' as well
- [X] properly optimized balanced/performance mode on charging/ac
    - better switch between balanced/perf mode as well as boost on/off when
- [X] auto enable amd_pstate on cpu_states setup
- [X] split amd and intel
- [X] config file for battery thresholds
- [X] print messages with color (green, yellow, red)
- [X] allocator.free(var) on everything I fucking forgot wow.
- [X] get number of cpu cores at compile time?
    - try and remove use of allocator?
    - zig build auto-detects, zig build -Dcpu-count=8 manual

- https://kernel.org/doc/html/latest/driver-api/pm/index.html

Getting started
---------------
./install.sh
sudo powereg --install

You can configure powereg via '~/.config/powereg/powereg.conf'.

Options
--------
Powereg will need to be run with sudo
- '--monitor': simply display your system states while powereg runs as a daemon in the background.
- '--live': runs powereg in the background while showing your system states.
- '--daemon': runs powereg with no feedback.
- '--install': install powereg via 'systemctl enable' and 'systemctl start'.
- '--uninstall': uninstalls powereg via 'systemctl disable' and 'systemctl stop'.

License
-------
- MIT License (./LICENSE)

Credits
-------
- Inspired by auto-cpufreq (https://github.com/AdnanHodzic/auto-cpufreq).
